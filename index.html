<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport"
        content="width=device-width,height=device-height, user-scalable=no,initial-scale=1, minimum-scale=1, maximum-scale=1,target-densitydpi=device-dpi ">
    <title>mini-imageCrop</title>
</head>
<style>
    .view {
        width: 300px;
        height: 200px;
    }

    .preview {
        width: 150px;
    }

    .view1 {
        width: 300px;
        height: 300px;
    }

    .preview1 {
        width: 150px;
    }

    .box {
        display: flex
    }
</style>

<body>
    <div class="box">
        <div class="child">
            <div class="view"></div>
            <div class="preview"></div>
            <input type="file" class="file">
            <button onclick="crop.reset()">重置</button>
            <button onclick="test(crop)">确认裁剪</button>
            <button onclick="crop.clear()">销毁实例</button>
        </div>
        <div class="child">
            <div class="view1"></div>
            <div class="preview1"></div>
            <input type="file" class="file1">
            <button onclick="crop1.reset()">重置</button>
            <button onclick="test(crop1)">确认裁剪</button>
            <button onclick="crop1.clear()">销毁实例</button>
        </div>
    </div>

    <script src="./dist/preview.js"></script>
    <script>
        var crop = new Crop({
            view: ".view",
            preview: ".preview",
            file: '.file',
            keepPP: false,
            isEnd:false,
            outmax:200,
            error:function(code) {
                console.log(code)
            }
        })
        var crop1 = new Crop({
            view: ".view1",
            preview: ".preview1",
            quality:10,
            circle: true,
            outsize: 100,
            error:alert
        })
        crop1.loadImage('/test.jpg')
        function test(c){
            var img=new Image()
            img.src=c.cropped()
            document.body.appendChild(img)
        }
    </script>
</body>

</html>